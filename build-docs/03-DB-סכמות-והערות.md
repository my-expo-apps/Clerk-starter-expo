## סכמות DB + הערות אבטחה

### מה יש במיגרציה
`supabase/migrations/001_init.sql`

- `profiles`: פרטי משתמש בסיסיים
- `projects`: “אפליקציות/פרויקטים” עתידיים
- `schema_drafts`: טיוטות סכמות (JSONB) לפרויקט

### RLS
במיגרציה מופעל RLS ומוגדרות מדיניות “Own data” בהנחה של Supabase Auth (`auth.uid()`).

### כשמשלבים Clerk
יש 2 אופציות נפוצות:
- **Custom JWT / Third-party auth**: למפות את ה־subject של Clerk ל־user id ב‑Supabase כדי ש־RLS יעבוד.
- **Server mediation**: API/Edge Function שמבצעת פעולות DB עם service role (לא ללקוח).

> אסור לשים service role key בתוך Expo.

